!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ArcProgress=e():t.ArcProgress=e()}(window,function(){return function(t){var e={};function i(r){if(e[r])return e[r].exports;var s=e[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(r,s,function(e){return t[e]}.bind(null,s));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),s=function(){function t(t){var e=this,i=t.width,r=t.height,s=t.el,n=t.arcStart,o=void 0===n?144:n,a=t.arcEnd,h=void 0===a?396:a,c=t.progress,p=t.value,u=t.thickness,l=t.emptyColor,d=t.fillColor,f=t.lineCap,g=t.animation,m=t.speed,y=void 0===m?0:m,v=t.animationEnd,x=void 0===v?function(){}:v,b=t.observer;this.percentage=0,this.speed=1,this.textValue=0,this.type="increase",this.isEnd=!1,this.emptyColor="#efefef",this.fillColor="#6bd5c8",this.lineCap="round",this.drawProgressAnimate=function(){!1===e.animation&&(e.percentage=e.progress),e.isEnd=e.percentage===e.progress,e.ctx.clearRect(0,0,e.width,e.height),e.drawBackground(),e.drawText(),e.drawProgress(),e.observer&&e.observer(e.percentage,e.currentText),"increase"===e.type&&e.percentage<e.progress?(e.accumulation(),e.requestAnimationFrame(e.drawProgressAnimate)):"reduce"===e.type&&e.percentage>e.progress&&(e.accumulation(),e.requestAnimationFrame(e.drawProgressAnimate))},this.width=i||200,this.height=r||200,this.arcStart=o,this.arcEnd=h,this.progress=100*c,this.value=p,this.el=s,this.thickness=u||12,this.animationEnd=x,this.emptyColor=l||this.emptyColor,this.fillColor=d||this.fillColor,this.lineCap=f||this.lineCap,this.animation=g||!0,this.observer=b,this.setSpeed(y),this.init()}return t.prototype.init=function(){var t="string"==typeof this.el?document.querySelector(this.el):this.el,e=document.createElement("canvas");e.width=this.width,e.height=this.height,t.appendChild(e),this.ctx=e.getContext("2d"),this.drawProgressAnimate()},t.prototype.drawBackground=function(){var t=this.ctx,e=Math.PI,i=this.width/2,r=this.arcStart/180*e,s=this.arcEnd/180*e;t.beginPath(),t.lineWidth=this.thickness,t.lineCap=this.lineCap,t.strokeStyle=this.emptyColor,t.arc(i,i,i-this.thickness,r,s,!1),t.stroke(),t.closePath()},t.prototype.computedArc=function(){var t=Math.PI,e=this.arcStart/180;return{start:e*t,end:((this.arcEnd/180-e)*(this.percentage/100)+e)*t}},t.prototype.setSpeed=function(t){t&&(this.speed+=t>0?t/40:t/101)},t.prototype.computedText=function(){var t,e=this.progress/this.speed,i=Number(this.value)/e,s=r.isInt(this.value);return s?(i=Math.floor(i))%5||(i-=1):(t=this.value.split(".")[1].length,(i=Number(i.toFixed(t)))*Math.pow(10,t)%5||(i-=1/Math.pow(10,t))),"increase"===this.type?this.textValue+=i:this.textValue-=i,this.isEnd?this.value:s?String(this.textValue):this.textValue.toFixed(t)},t.prototype.drawProgress=function(){var t=this.ctx,e=this.width/2,i=this.computedArc(),r=i.start,s=i.end;t.beginPath(),t.lineWidth=this.thickness,t.lineCap=this.lineCap,t.strokeStyle=this.fillColor,t.arc(e,e,e-this.thickness,r,s,!1),t.stroke(),t.closePath(),this.isEnd&&this.animationEnd(this)},t.prototype.drawText=function(){var t=this.ctx,e=this.computedText();this.currentText=e,t.fillStyle="#000000",t.font="40px",t.textAlign="center",t.fillText(e,this.width/2,75)},t.prototype.requestAnimationFrame=function(t){return window.requestAnimationFrame(t)},t.prototype.accumulation=function(){this.animation&&"number"==typeof this.animation&&(this.speed=this.progress/(this.animation/(1e3/60))),"increase"===this.type?(this.percentage+=this.speed,this.percentage>this.progress&&(this.percentage=this.progress)):(this.percentage-=this.speed,this.percentage<this.progress&&(this.percentage=this.progress))},t.prototype.updateProgress=function(t){var e=t.progress,i=t.value;this.isEnd&&(this.type=100*e>this.progress?"increase":"reduce",this.progress=100*e,this.value=i,this.drawProgressAnimate())},t}();e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isInt=function(t){return void 0===t&&(t=""),1===t.split(".").length}}]).default});